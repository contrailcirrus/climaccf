
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Installation &#8212; envlib V1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Processing of meteorological input data" href="modules.html" />
    <link rel="prev" title="Climate Impact quantified using aCCF (CLIMaCCF)" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<p>The installation is the first step to working with CLIMaCCF. In the following, the steps required to install the library are provided (Some parts need to be modified,
for instance, I need to check the current CLIMaCCF is compatible with which versions of pythons, and also, for release, we may decide to publish it under
PyPi, so downloading or cloning the library is not the only option).</p>
<ol class="arabic simple" start="0">
<li><p>it is highly recomended to create a virtual environment:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">env_CLIMaCCF</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">env_CLIMaCCF</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>Clone or download the repository.</p></li>
<li><p>Locate yourself in the CLIMaCCF (library folder) path, and run the following line, using terminal (in MacOS and Linux) or cmd (Windows), which will install all dependencies:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>The installation package contains a set of sample data and an example script for testing purpose. To run it, at the library folder, enter the following command:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">pytest</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>The library runs successfully if env_processed.nc is generated at the library folder/test/sample_data/. One can visualize the file using a visualization tool.</p></li>
</ol>
</section>
<section id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h1>
<p>The scope of CLIMaCCF is to provide individual and merged aCCFs as spatially and temporally resolved information considering meteorology from the actual synoptical situation, the aircraft type, the selected physical climate metric, and the selected version of prototype algorithms in individual aCCFs. Consequently, some user-preferred settings need to
be defined. Within CLIMaCCF, theses settings are defined in a dictionary, called <em>confg</em> (i.e., confg [‘name’] = value). Notice that default
Default values for the settings have been defined within the library database; thus, defining dictionary <em>confg</em> is optional and, if included, overwrites the default ones.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">confg</span> <span class="o">=</span> <span class="p">{}</span>

<span class="sd">&quot;&quot;&quot;Configuration of algorithmic climate change functions aCCFs &quot;&quot;&quot;</span>

<span class="c1"># If true, efficacies are included</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;efficacy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>      <span class="c1"># Options: True, False</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;efficacy-option&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;lee et al. (2021)&#39;</span>      <span class="c1"># Option one: &#39;lee_2021&#39; (includes efficacies according to Lee et al. (2021)), Option two: {&#39;CH4&#39;: xx, &#39;O3&#39;: xx, &#39;H2O&#39;: xx, &#39;Cont.&#39;: xx, &#39;CO2&#39;: xx} (user-defined efficacies assigned to xx)</span>

<span class="c1"># Specifies the version of the prototype aCCF</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;aCCF-V&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;V1.1&#39;</span>      <span class="c1"># currently 2 options: &#39;V1.0&#39;: Yin et al. (2022), &#39;V1.1&#39;: Matthes et al. (2022)</span>

<span class="c1"># User-defined scaling factors of the above secelted aCCF version. Not recommented to be changed, unless modification of the aCCFs is wanted (e.g. sensitivity studies)</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;aCCF-scalingF&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CH4&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;O3&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;H2O&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Cont.&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;CO2&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>

<span class="c1"># Specifies the emission scenario of the climate metric. Currently, pulse emission and increasing future emission scenario (business as usual) included</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;emission_scenario&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;future_scenario&#39;</span>      <span class="c1"># Options: &#39;pulse&#39; and &#39;future_scenario&#39;</span>

<span class="c1"># Specifies the climate indicator. Currently, Average Temperature Response (ATR) has been implemented</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;climate_indicator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ATR&#39;</span>      <span class="c1"># Options: &#39;ATR&#39;</span>

<span class="c1"># Specifies the time horizon (in years) over which the selected climate indicator is calculated</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;TimeHorizon&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">20</span>      <span class="c1"># Options: 20, 50, 100</span>

<span class="c1"># Determination of areas favorable for the formation of persistent contrails (needed to calculate aCCF of (day/night) contrails).</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;PCFA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ISSR</span>      <span class="c1"># Options: &#39;ISSR&#39; (Ice-supersaturated reigons), &#39;SAC&#39; (Ice-supersaturation reigons with Schmidt-Appleman Criterion (Appleman, 1953))</span>

<span class="c1"># Specifies the thresholds of relative humidity over ice and temperature in order to identify ice supersaturated regions. Note that the threshold of relative humidity over ice depends on the resolution of the input data (for more details see Dietmueller et al. 2022)</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;ISSR&#39;</span><span class="p">]</span> <span class="o">=</span>  <span class="p">{</span><span class="s1">&#39;rhi_threshold&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;temp_threshold&#39;</span><span class="p">:</span> <span class="mi">235</span><span class="p">}</span>      <span class="c1"># Options for &#39;rhi_threshold&#39;: user defined threshold value &lt; 1. Threshold depends on the used data set, e.g., in case of the reanalysis data product ERA5 with high resolution (HRES) it is 0.9</span>

<span class="c1"># Parameters for calculating Schmidt-Appleman Criterion (SAC). These parameters can vary for different aircraft types.</span>
<span class="n">confg</span> <span class="p">[</span><span class="s1">&#39;SAC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Q&#39;</span><span class="p">:</span> <span class="mi">43</span> <span class="o">*</span> <span class="mf">1e6</span><span class="p">,</span> <span class="s1">&#39;eta&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;EI_H2O&#39;</span><span class="p">:</span> <span class="mf">1.25</span><span class="p">}</span>      <span class="c1"># &#39;EI_H2O&#39;: water vapour emission&#39;s index in [kg(H2O)/kg(fuel)], &#39;Q&#39;: Fuel specific energy in [J/kg], &#39;eta&#39;: Engine’s overall efficiency</span>

<span class="sd">&quot;&quot;&quot; Technical Specifiactions of Aircraft/Engine dependent Parameters&quot;&quot;&quot;</span>

<span class="c1"># Specifies NOx Emission Index (NOx_EI) and flown distance per kg burnt fuel (F_km)</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;NOx_EI&amp;F_km&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;TTV&#39;</span>      <span class="c1"># Options: &#39;TTV&#39; for typical transantlantic fleet mean values from literature and  &#39;ac_dependent&#39; for altitude and aircraft/engine dependent values. Note that &quot;If Confg[&#39;NOx_EI&amp;F_km&#39;] = &#39;TTV&#39;, the following confg[&#39;ac_type&#39;] is ignored.&quot;</span>

<span class="c1"># If Confg[&#39;NOx_EI&amp;F_km&#39;] = &#39;ac_dependent&#39;, aggregated aircraft type needs to be selected. Note that these values take into account the altitude dependence of NOx_EI and F_km (for more details see Dietmueller et al. 2022)</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;ac_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;wide-body&#39;</span>      <span class="c1"># Options: &#39;regional&#39;, &#39;single-aisle&#39;, &#39;wide-body&#39;</span>


<span class="c1"># weather-dependent coefficients for calculating NOx emission index using Boeing Fuel Flow Method 2 (BFFM2)</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;Coef.BFFM2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>      <span class="c1"># Options: True, False</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;method_BFFM2_SH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;SH&#39;</span>

<span class="sd">&quot;&quot;&quot;Output Options&quot;&quot;&quot;</span>

<span class="c1"># If true, the primary mode ozone (PMO) effect is included to the CH4 aCCF and the total NOx aCCF</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;PMO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># If true, the total NOx aCCF is calculated (i.e. aCCF-NOx = aCCF-CH4 + aCCF-O3)</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;NOx_aCCF&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># If true, all individual aCCFs are converted to K/kg(fuel) and outputted in this unit.</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;unit_K/kg(fuel)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># If true, merged non-CO2 aCCF is calculated</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;merged&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># If true, climate hotspots (regions that are very senitive to aviation emissisions) are calculated (for more details see Dietmueller et al. 2022)</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;Chotspots&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># If true, it assigns binary values to climate hotspots (i.e., 0 for areas with climate impacts below the specified threshold, and 1 for areas with higher climate impacts than the threshold). If false, it assigns 0 for areas with climate impacts below the specified threshold and gives actual values for those areas with higher climate impacts than the threshold.</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;hotspots_binary&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># Determines dynamically the threshold for identifying climate hotspots by calculating the e.g., 99th percentile term of the of the normal distribution of the respective merged aCCF. The percentiles are also outputted in netCDF output file</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;hotspots_percentile&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">99</span>      <span class="c1"># Options: percentage &lt; 100</span>

<span class="c1"># If true, all meteorological input variables are saved in the netCDF output file in same resolution as aCCFs</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;MET_variables&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># If true, polygons containing climate hotspots will be saved in the GeoJson file</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;geojson&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># Specifies the color of polygons</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;copper&#39;</span>      <span class="c1"># Options: colors of cmap, e.g., copper, jet, Reds</span>

<span class="sd">&quot;&quot;&quot; Output Options for Statistical analysis of Ensemble prediction system (EPS) data products &quot;&quot;&quot;</span>

<span class="c1"># The following two options (confg[&#39;mean&#39;], confg[&#39;std&#39;]) are ignored if the input data are deterministic</span>

<span class="c1"># If true, mean values of aCCFs and variables are saved in the netCDF output file</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>

<span class="c1"># If true, standard deviation of aCCFs and variables are saved in the netCDF output file</span>
<span class="n">confg</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>      <span class="c1"># Options: True, False</span>
</pre></div>
</div>
<p>Another alternative is to include these settings in the separate configuration file and then load them in the main script.
In the directory of CLIMaCCF, one can find a sample configuration file, including the mentioned settings in the YAML file format (i.e., config-user.yml), and can call them in the main script using</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;config-user.yml&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ymlfile</span><span class="p">:</span> <span class="n">confg</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">ymlfile</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="input">
<h1>Input<a class="headerlink" href="#input" title="Permalink to this heading">¶</a></h1>
<p>To calculate aCCFs, some meteorological variables are required. CLIMaCCF takes these variables as input (See Table 5 of the connected paper (i.e., Dietmüller et al. (2021)).
These variables are Temperature, Geopotential height, Relative humidity over ice, and Potential vorticity at different pressure levels,
and outgoing longwave radiation (or top net thermal radiation) and incoming solar radiation at the top of the atmosphere.
The current implementation of the Library is compatible with the standard of the European Centre for Medium-Range Weather Forecasts (ECMWF) data (for both reanalysis and forecast data products).
The user should provide two datasets, separating data provided at each pressure level and surface variables, typically collected in different datasets. Within CLIMaCCF, the directories of these two datasets are to be defined as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">input_dir</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">input_dir</span><span class="p">[</span><span class="s1">&#39;path_pl&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">dir_pressure_variables</span>  <span class="c1"># Directory for input data provided in pressure levels such as temperature, geopotential and relative humidity</span>
<span class="n">input_dir</span><span class="p">[</span><span class="s1">&#39;path_sur&#39;</span><span class="p">]</span> <span class="o">=</span>  <span class="n">dir_surface_variables</span>  <span class="c1"># Directory for input data provided in single pressure level such as top net thermal radiation at the the TOA</span>
</pre></div>
</div>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Main input prameters required for CLIMaCCF.</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 40%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Short name</strong></p></th>
<th class="head"><p><strong>Units</strong></p></th>
<th class="head"><p><strong>ID</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Pressure</p></td>
<td><p>pres</p></td>
<td><p><span class="math notranslate nohighlight">\([K.m^{2}/Kg.s]\)</span></p></td>
<td><p><a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db/?id=54">54</a></p></td>
</tr>
<tr class="row-odd"><td><p>Potential vorticity</p></td>
<td><p>pv</p></td>
<td><p><span class="math notranslate nohighlight">\([K.m^{2}/Kg.s]\)</span></p></td>
<td><p><a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db?id=60">60</a></p></td>
</tr>
<tr class="row-even"><td><p>Geopotential</p></td>
<td><p>z</p></td>
<td><p><span class="math notranslate nohighlight">\([m^{2}/s^{2}]\)</span></p></td>
<td><p><a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db/?id=129">129</a></p></td>
</tr>
<tr class="row-odd"><td><p>Temperature</p></td>
<td><p>t</p></td>
<td><p><span class="math notranslate nohighlight">\([K]\)</span></p></td>
<td><p><a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db/?id=130">130</a></p></td>
</tr>
<tr class="row-even"><td><p>Relative Humidity</p></td>
<td><p>r</p></td>
<td><p>[%]</p></td>
<td><p><a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db?id=157">157</a></p></td>
</tr>
<tr class="row-odd"><td><p>Top Net Thermal Radiation</p></td>
<td><p>ttr</p></td>
<td><p><span class="math notranslate nohighlight">\([J/m^{2}]\)</span></p></td>
<td><p><a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db?id=179">179</a></p></td>
</tr>
<tr class="row-even"><td><p>TOA Incident Solar Radiation</p></td>
<td><p>tisr</p></td>
<td><p><span class="math notranslate nohighlight">\([J/m^{2}]\)</span></p></td>
<td><p><a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db/?id=212">212</a></p></td>
</tr>
</tbody>
</table>
<p>In addition to the locations of input data, the directory of the CLIMaCCF needs to be specified within input_dir:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">input_dir</span> <span class="p">[</span><span class="s1">&#39;path_lib&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CLIMaCCF_dir</span>      <span class="c1"># Directory of CLIMaCCF</span>
</pre></div>
</div>
<p>Finally, the directory where all outputs will be written is to be inputted by the user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_dir</span> <span class="o">=</span> <span class="n">dir_results</span>    <span class="c1"># Destination directory where all output will be written</span>
</pre></div>
</div>
</section>
<section id="running-output">
<h1>Running &amp; Output<a class="headerlink" href="#running-output" title="Permalink to this heading">¶</a></h1>
<p>After defining configurations and inputting required directories, CLIMaCCF is ready to generate outputs. First of all, we import the library:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">CLIMaCCF</span>
<span class="kn">from</span> <span class="nn">CLIMaCCF.main_processing</span> <span class="kn">import</span> <span class="n">ClimateImpact</span>
</pre></div>
</div>
<p>Then, the inputted variables will be processed by using the following function. The processing in this step is mainly related to 1) extracting variables within inputted data, 2) calculating required variables from alternative ones in case of missing some variables (see Table 5 of the connected paper), 3) unifying the naming and dimension of variables, and 4)changing the resolution and geographical area.
The preferred horizontal resolution and geographical area are inputted to the function. Notice that the horizontal resolution cannot be higher than the resolution of the inputted meteorological data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CI</span> <span class="o">=</span> <span class="n">ClimateImpact</span><span class="p">(</span><span class="n">input_dir</span><span class="p">,</span> <span class="n">horizontal_resolution</span><span class="o">=</span><span class="n">resolution</span><span class="p">,</span> <span class="n">lat_bound</span><span class="o">=</span><span class="p">(</span><span class="n">lat_min</span><span class="p">,</span> <span class="n">lat_max</span><span class="p">),</span> <span class="n">lon_bound</span><span class="o">=</span><span class="p">(</span><span class="n">lon_min</span><span class="p">,</span> <span class="n">lon_max</span><span class="p">),</span> <span class="n">save_path</span><span class="o">=</span><span class="n">output_dir</span><span class="p">)</span>
</pre></div>
</div>
<p>After processing the weather data, aCCFs are calculated using the following command with respect to the defined settings in the dictionary (i.e., confg) and saved within the netCDF file format in the specified directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CI</span><span class="o">.</span><span class="n">calculate_accfs</span><span class="p">(</span><span class="o">**</span><span class="n">confg</span><span class="p">)</span>
</pre></div>
</div>
<p>Following the previous steps, an output file (in netCDF format) will be generated. The output file contains different variables depending on the selected configurations (in <em>confg</em>).
For instance, the output file contains both individual and merged aCCFs  if confg [‘merged’] = True and the inputted metrological parameters if confg [‘MET_variables’] = True. The dimension of outputted variables for the Ensemble prediction system (EPS) data products is (time, member, pressure level, latitude, longitude), and for the deterministic ones is (time, pressure level, latitude, longitude).
The generated netCDF file is compatible with well-known visualization tools such as ferret, NCO, and Panoply.
In addition to the netCDF file, if one selects: confg[‘geojson’] = True, confg[Chotspots] = True, some GeoJson files (number: pressure levels * number of time) will be generated in the specified output directory.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">envlib</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=abolfazlsimorgh&repo=envlib&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="#input">Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="#running-output">Running &amp; Output</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Modules:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Processing of meteorological input data</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-envlib.calc_altrv_vars">Calculation of meteorological input data from alternative variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#weather-store">Weather Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-envlib.contrail">Persistent Contrail Formation</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#calculation-of-prototype-accfs">Calculation of prototype aCCFs</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Climate Impact quantified using aCCF (CLIMaCCF)</a></li>
      <li>Next: <a href="modules.html" title="next chapter">Processing of meteorological input data</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Abolfazl Simorgh.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/gStarted.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>